<mat-card>
  <mat-card-header>
    <mat-card-title>Courses</mat-card-title>
    <mat-card-subtitle>Manage skiing courses</mat-card-subtitle>
  </mat-card-header>
  
  <mat-card-content>
    <div class="actions">
      <button mat-raised-button color="primary" routerLink="/courses/new">
        <mat-icon>add</mat-icon>
        Add New Course
      </button>
    </div>

    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading">
      <p>Loading courses...</p>
    </div>

    <!-- Error State -->
    <div *ngIf="errorMessage" class="error">
      <p>{{ errorMessage }}</p>
      <button mat-button color="primary" (click)="loadCourses()">Retry</button>
    </div>

    <!-- Data Table -->
    <div *ngIf="!isLoading && !errorMessage" class="table-container">
      <table mat-table [dataSource]="courses" class="courses-table">
        <!-- Course ID Column -->
        <ng-container matColumnDef="numCourse">
          <th mat-header-cell *matHeaderCellDef>ID</th>
          <td mat-cell *matCellDef="let course">{{ course.numCourse }}</td>
        </ng-container>

        <!-- Level Column -->
        <ng-container matColumnDef="level">
          <th mat-header-cell *matHeaderCellDef>Level</th>
          <td mat-cell *matCellDef="let course">{{ course.level }}</td>
        </ng-container>

        <!-- Type Course Column -->
        <ng-container matColumnDef="typeCourse">
          <th mat-header-cell *matHeaderCellDef>Type</th>
          <td mat-cell *matCellDef="let course">
            <mat-chip>{{ getTypeCourseLabel(course.typeCourse) }}</mat-chip>
          </td>
        </ng-container>

        <!-- Support Column -->
        <ng-container matColumnDef="support">
          <th mat-header-cell *matHeaderCellDef>Support</th>
          <td mat-cell *matCellDef="let course">
            <mat-chip>{{ getSupportLabel(course.support) }}</mat-chip>
          </td>
        </ng-container>

        <!-- Price Column -->
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>Price</th>
          <td mat-cell *matCellDef="let course">${{ course.price }}</td>
        </ng-container>

        <!-- Time Slot Column -->
        <ng-container matColumnDef="timeSlot">
          <th mat-header-cell *matHeaderCellDef>Time Slot</th>
          <td mat-cell *matCellDef="let course">{{ course.timeSlot }}h</td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let course">
            <button mat-icon-button color="primary" [routerLink]="['/courses/edit', course.numCourse]">
              <mat-icon>edit</mat-icon>
            </button>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
      </table>
    </div>

    <div *ngIf="!isLoading && !errorMessage && courses.length === 0" class="no-data">
      <p>No courses found. <a routerLink="/courses/new">Create your first course</a></p>
    </div>
  </mat-card-content>
</mat-card>